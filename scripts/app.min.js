function cELM(e,t,n){var o=document.createElement(e);return t&&(o.className=t),n&&(o.innerHTML=n),o}function isMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function getURLParameter(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null}function checkBrowserCompatibility(){}function HtmlEncode(e){var t=document.createElement("div");return t.innerText=t.textContent=e,e=t.innerHTML}function IsEmpty(e){return"undefined"==typeof e||(!e||0===e.length||/^\s*$/.test(e))}function contains(e,t){return e.indexOf(t)!=-1}function RGBAObjToHex(e){var t=parseInt(255*e.r),n=parseInt(255*e.g),o=parseInt(255*e.b);return"#"+t.toString(16)+n.toString(16)+o.toString(16)}function GetScreenDim(){var e=window,t=document,n=t.documentElement,o=t.getElementsByTagName("body")[0],i=e.innerWidth||n.clientWidth||o.clientWidth,r=e.innerHeight||n.clientHeight||o.clientHeight;return{width:i,height:r}}function LoadCSS(e){var t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.href=e;for(var n=!1,o=0;o<document.getElementsByTagName("head")[0].children.length;o++){var i=document.getElementsByTagName("head")[0].children[o];if(i.href&&i.href.indexOf(e)>-1){n=!0;break}}n||document.getElementsByTagName("head")[0].appendChild(t)}function RemoveCSS(e){for(var t=null,n=0;n<document.getElementsByTagName("head")[0].children.length;n++){var o=document.getElementsByTagName("head")[0].children[n];if(o.href&&o.href.indexOf(e)>-1){t=o;break}}if(t){var i=t.parentNode;i.removeChild(t)}}function guidGenerator(e){var t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};switch(e){case"short":return t()+t();case"long":return t()+t()+t()+t();default:return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}function URLFriendly(e){if(IsEmpty(e))return"";var t=e.toLowerCase().replace(/^\s+|\s+$/g,"").replace(/[^a-zA-Z\d\s]/g,"").replace(/\s/g,"-");return t}function URLFriendlyTags(e){var t=e.toLowerCase().replace(/^\s+|\s+$/g,"").replace(/[^a-zA-Z\d\s]/g,"").replace(/\s/g,"+");return t}function setCookie(e,t,n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);var i="expires="+o.toGMTString();document.cookie=e+"="+t+"; "+i+";path=/"}function getCookie(e){var t=new RegExp(e+"=([^;]+)"),n=t.exec(document.cookie);return null!=n?unescape(n[1]):null}function getStoredKVP(e){return"undefined"!=typeof Storage?localStorage.getItem(e):getCookie(e)}function removeStoredKVP(e){"undefined"!=typeof Storage?localStorage.removeItem(e):setCookie(e,null,0)}function setStoredKVP(e,t){"undefined"!=typeof Storage?localStorage.setItem(e,t):setCookie(e,t,325)}function http(e,t,n){var o="";if(t.params){var i=(new Date).getTime();for(var r in t.params)o+=o+"&"+r+"="+t.params[r];o=e.indexOf("?")>-1?"&dt="+i+o:"?dt="+i+o}var a=new XMLHttpRequest;if(a.onreadystatechange=function(){if(4==a.readyState&&200==a.status)try{n(JSON.parse(a.responseText))}catch(e){n(a.responseText)}},a.open(t.verb,e+o,!0),"PUT"!=t.verb&&"POST"!=t.verb||a.setRequestHeader("Content-Type","application/json"),t.headers)for(var r in t.headers)a.setRequestHeader(r,t.headers[r]);t.data?a.send(JSON.stringify(t.data)):a.send(null)}function httpGet(e,t,n){http(e,{verb:"GET",params:t},n)}function getURLParts(e){for(var t=[],n=e.pathname.split("/"),o=0;o<n.length;o++)o>0&&(IsEmpty(n[o])||t.push(n[o]));return t}function getURLHashPath(e){var t=[];if(e.hash){query=e.hash.substr(1);return query.split("/").forEach(function(e){t.push(e)}),t}return t}function getURLQueryParams(e,t){var n={};if(t.hash){n=t.hash.substr(1);var o={};return n.split("&").forEach(function(e){var t=e.split("=");o[t[0]]=decodeURIComponent(t[1])}),o}n=t.search.substr(1);var o={};return n.split("&").forEach(function(e){var t=e.split("=");o[t[0]]=decodeURIComponent(t[1])}),o}function blobUI(e,t,n){var o="div",i=e.split("-");o.length>1&&"img"==i[0]&&(o="img");var r=!1,a=null;n["blob-"+e]?(a=n["blob-"+e],r=!0):(a=cELM(o,e),n["blob-"+e]=a),"img"==o?n["blob-"+e].src=t:t&&(n["blob-"+e].textContent=t);var l={existed:r,elm:a};return l}function blobsUI(e,t){var n={},o={};t&&(o=t);for(var i in e)n[i]=blobUI(i,e[i],o);return n}var app=app||{};app.Ext=function(e){e=e||{};for(var t=1;t<arguments.length;t++){var n=arguments[t];if(n)for(var o in n)n.hasOwnProperty(o)&&("object"==typeof n[o]?e[o]=app.Ext(e[o],n[o]):e[o]=n[o])}return e},Element.prototype.addELM=function(e){var t=e;return e.getHTML&&(t=e.getHTML()),this.appendChild(t)},Element.prototype.insertELM=function(e){var t=e;e.getHTML&&(t=e.getHTML());var n=this.firstChild;return n?this.insertBefore(t,n):this.appendChild(t)},Element.prototype.removeELM=function(e){var t=e;return e.destroy&&e.destroy(),e.getELM&&(t=e.getELM()),this.removeChild(t)};var logout=function(e){app.User.logout(),setTimeout(function(){e?window.location.href=e:location.reload()},800)},_LOGIN_PARAMS=null;app.Start=function(e,t,n){document.addEventListener("DOMContentLoaded",function(o){app.Init(e,t,n)})},app.FF=function(e){return app.Controller.checkFeature(e)},app.Init=function(e,t,n){if(!t||t()){var o,i=e.sections?e.sections:{};if(window.hasOwnProperty("Parse")&&(o=Parse.User.current()),o){var r=o.get("sections"),a=o.get("overrideSections"),l=o.get("sectionBadges");if(app.Controller.sectionBadges=l,app.Controller.setFeatureFlags({}),a&&r){var s={};for(var c in r)if(r[c].features)for(var u in r[c].features){var d=r[c].features[u];d&&(s[c.toUpperCase()+"-"+u.toUpperCase()]=!0)}app.Controller.setFeatureFlags(s)}if(r)if(a)i=r;else for(var c in r)i[c]=r[c]}if(document.getElementById("btLogin"))if(o){document.getElementById("btLogin").style.display="none";var p=document.getElementById("username");p&&(p.innerHTML=o.get("username"));var f=document.getElementById("userprofile");if(f){var v=o.get("profileURL");v||(v="/images/profile_default.png");var g=new app.controls.ExpandButton({button_text:"<img src="+v+">",classname:"profile_nav",selections:[{classname:"ep_logout",text:"Logout",detailText:"Signout of my current account",onclick:function(){logout()}}]});p&&(p.onclick=function(e){g.click(e)}),f.addELM(g)}}else document.getElementById("username")&&(document.getElementById("username").style.display="none"),document.getElementById("userprofile")&&(document.getElementById("userprofile").style.display="none");else initLoginType(e?e.login?e:"login":"login");e&&e.login&&(_LOGIN_PARAMS=e.login),app.Controller.initSectionSelections(i),app.Controller.showSection(),n&&n()}};var logo=function(){window.location="/"},popup,lPopup,initLoginType=function(e){var t=null,n=null;"object"==typeof e?(n=e.login.mode,t=e,_LOGIN_PARAMS=e.login):"string"==typeof e&&(n=e,_LOGIN_PARAMS=e);var o=document.getElementById(n+"_page");if(o){var i=new app.Login(t?t.login:n,function(e){onLoginSuccess(e)});o.addELM(i)}},onLoginSuccess=function(e){setCookie("userId",e.id,325),setCookie("session_token",e.getSessionToken(),325),setTimeout(function(){var e=getCookie("lastLoginPath");if(IsEmpty(e))window.location="/";else if("null"==e)window.location="/";else{var t=window.location.toString();if(e.indexOf("#")>-1&&t==e)return void window.location.reload();window.location=e}},800)},loginPopup=function(e){lPopup=new app.Popup,lPopup.init(new app.Login(_LOGIN_PARAMS,function(e){onLoginSuccess(e)})),e&&lPopup.disableClosing(!0),lPopup.show(!0)},startLogin=function(){lPopup||(lPopup=new app.Popup,lPopup.init(new app.Login(_LOGIN_PARAMS,function(e){onLoginSuccess(e)}))),lPopup.show(!0)};String.prototype.hashCode=function(){var e=0;if(0==this.length)return e;for(i=0;i<this.length;i++)char=this.charCodeAt(i),e=(e<<5)-e+char,e&=e;return e},String.prototype.toTitleCase=function(){var e,t,n,o,i;for(n=this.replace(/([^\W_]+[^\s-]*) */g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}),o=["A","An","The","And","But","Or","For","Nor","As","At","By","For","From","In","Into","Near","Of","On","Onto","To","With"],e=0,t=o.length;e<t;e++)n=n.replace(new RegExp("\\s"+o[e]+"\\s","g"),function(e){return e.toLowerCase()});for(i=["Id","Tv"],e=0,t=i.length;e<t;e++)n=n.replace(new RegExp("\\b"+i[e]+"\\b","g"),i[e].toUpperCase());return n},app.Ext(app,{Popup:function(e){var t={},n=t,o=null,i=e,r=null,a=!1,l="popup"+(isMobile()?" mobile":""),s=null,c=cELM("div","popup");c.addEventListener("click",function(e){if(!e)var e=window.event;e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),a||app.Controller.popPopup()}),c.addEventListener("dragover",function(e){e.preventDefault(),c.className=l+" "+(s?s:"")+" dragover"}),c.addEventListener("dragleave",function(e){e.preventDefault(),c.className=l+" "+(s?s:"")}),c.addEventListener("drop",function(e){e.preventDefault(),c.className=l+" "+(s?s:"");var t=e.dataTransfer,n=(t.types,t.files),i=t.items,r=t.getData("url");r||(r=t.getData("text/plain"),r||(r=t.getData("text/uri-list")));var a={dataTransfer:{files:n,items:i,url:r}};o&&o.onDropEvent&&o.onDropEvent(a)});var u=cELM("div","btBack");u.onclick=function(e){if(!e)var e=window.event;e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),app.Controller.popPopup()};var d=cELM("div","header"),p=cELM("div","title_container"),f=cELM("div","title");f.readOnly=!0;var v=cELM("div","notification"),g=null,h=cELM("div","header_controls"),y=cELM("div","scroll_content"),m=cELM("div","scroll_spacer");if(y.addELM(m),d.addELM(u),d.addELM(p),p.addELM(f),e||c.addELM(v),t.disableClosing=function(e){a=e},document.body.appendChild(c),t.setClass=function(e){"string"==typeof e?(s=e,c.className=l+" "+s):(e.header&&(d.className=e.header),e.title&&(p.className=e.title),e.content&&(y.className=e.content),e.controls&&(h.className=e.controls))},i){if(i.mode){if(c.addELM(d),c.addELM(v),i.controls){for(var L=0;L<i.controls.length;L++){var E=i.controls[L];h.addELM(E)}d.addELM(h)}else i.control&&d.addELM(i.control);c.addELM(y)}else c.addELM(v);i.btBack&&u.addELM(i.btBack),i.css&&t.setClass(i.css)}return t.clearNotification=function(){var e=v;e&&(g?(e.removeChild(g),g=null):e.innerHTML="")},t.setNotification=function(e){var t=v;t&&(g?(t.removeChild(g),g=null):t.innerHTML="","string"==typeof e?t.innerHTML=e:"object"==typeof e&&(g=e,t.addELM(e)))},t.getTitle=function(){return y.value},t.init=function(e,n){var l=null;t.clearContent(),o=e,r=n,"string"==typeof n?(c.addELM(o),l=n,l&&t.setClass(l)):"object"==typeof n?(n.title&&(f.innerHTML=n.title),i?y.addELM(o):c.addELM(o),n.css&&t.setClass(n.css),a||c.addEventListener("click",function(e){if(!e)var e=window.event;e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()})):(c.addELM(o),l=n,l&&t.setClass(l)),o.hasOwnProperty("getELM")?o.getELM().addEventListener("click",function(e){if(!e)var e=window.event;e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}):o.addEventListener("click",function(e){if(!e)var e=window.event;e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()})},t.isShown=function(){return"block"==c.style.display},t.clearContent=function(){o&&(o.getELM?o.getELM().parentNode&&o.getELM().parentNode.removeChild(o.getELM()):o.parentNode&&o.parentNode.removeChild(o)),o=null,c.style.display=""},t.hide=function(e){o.hide?o.hide(function(){c.style.display="none",app.Controller.unlockWindow()}):(c.style.display="none",app.Controller.unlockWindow());var t=document.getElementById("scroll_content");if(t){var n=t.className.replace("show-content","");t.className=n}},t.show=function(e,t,i){if(i){var a=document.getElementById("scroll_content");if(a){var l=a.className.replace("show-content","");a.className=l+(e?"show-content":"")}}if(!e||"block"!=c.style.display){e="undefined"==typeof e||e,c.style.display=e?"block":"none",o&&o.show&&o.show(e);var s=null;return e?(s="object"==typeof r&&r&&r.history?app.Controller.pushPopup(n,r.history,t):app.Controller.pushPopup(n,null,t),app.Controller.lockWindow()):(c.style.display="none",app.Controller.unlockWindow()),s}},t.getHTML=function(){return c},t}}),app.Ext(app,{DAL:{getObjectFromParse:function(e){var t=e.attributes;return t.objectId=e.id,t},setParseObject:function(e,t){for(var n in t)e.set(n,t[n])},loginSocial:function(e){},login:function(e,t,n,o){e&&(e=e.toLowerCase()),Parse.User.logIn(e,t,{success:function(e){Parse.Cloud.run("checkRole",{},{success:function(t){n(e)},error:function(e){o(e)}})},error:function(e,t){o(t)}})},logout:function(){removeStoredKVP("AUTH_CALLBACK"),setCookie("username","",325),setCookie("userId","",325),setCookie("session_token","",325),setCookie("lastLoginPath",null,325),Parse.User.logOut()},signUp:function(e,t,n,o){var i=t,r=e;r&&(r=r.toLowerCase());var a=new Parse.User;a.set("username",r),a.set("password",i),a.set("email",r);var l=r.split("@");a.set("fullname",l[0]),console.log(l[0]),a.signUp(null,{success:function(e){Parse.Cloud.run("checkRole",{},{success:function(t){n(e)},error:function(e){o(e)}})},error:function(e,t){o(t)}})}}}),function(){"use strict";var e=document,t=function(t){return e.getElementById(t)},n=function(t){return e.getElementsByClassName(t)},o={},i="",r="/auth/",a="/scripts/sections/",l="/scripts/modules/",s="/scripts/libs/",c="/css/",u=[],d=[],p=null,f={},v=null,g={},h={},y=-1,m=[],L=[],E=null,M=function(){for(var e=0;e<L.length;e++)L[e](b())},b=function(){return m.length>y&&y>=0?m[y]:null},w=function(e){y+=e,y>m.length?y=m.length:y<-1&&(y=-1)},T=function(){return"http:"==document.location.protocol||"https:"==document.location.protocol},k={},C={},S=null,P=null,x=!1,N={},B=function(e){if(!IsEmpty(e)){var o=t("scroll_content"),i=a+e+".js";f[e]&&f[e].host&&(i=f[e].host+a+e+".js");var r=null,l=n("controls_header");if(l&&l.length>0){l[0].className="controls_header "+e+"_header";var s=l[0].querySelector("#header_title");if(s){s.innerHTML="";var u=f[e];u&&u.title&&(s.innerHTML=u.title,r=s)}}var d="bt"+e.toTitleCase(),p=C[d],h=function(e){require([a+e+".js"],function(t){g[e]=t,t.init(app.User.isLogin(),o,r,p),t.render(),v=g[e]},function(e){console.log(e),v=null})};app.Mod(e)?h(e):(console.log("no modules found"),LoadCSS(c+e+".css"),app.RegMods([e],function(){h(e)}))}};app.Ext(app,{Paths:function(e){e&&(o=e,e.section&&(a=e.section),e.module&&(l=e.module),e.css&&(c=e.css),e.lib&&(s=e.lib),e.auth&&(r=e.auth),e.host&&(i=e.host,s=i+s,c=i+c,l=i+l,a=i+a));var t={auth:o.auth?o.auth:r,module:o.module?o.module:l,css:o.css?o.css:c,lib:o.lib?o.lib:s,section:o.section?o.section:a,host:o.host?o.host:i};for(var n in o)t[n]||(t[n]=o[n]);return t},Mod:function(e){return h[e]},RegMod:function(e,t){return h[e]?t:void(h[e]=t)},RegMods:function(e,t){for(var n=[],o=e,i=0;i<o.length;i++){var r=o[i];if(!app.Mod(r)){var a=l+r+".js";f[r]&&f[r].host&&(a=f[r].host+l+r+".js"),n.push(a)}}n.length>0&&require(n,function(){for(var e=0;e<arguments.length;e++)app.RegMod(o[e],arguments[e]);t(n)},function(e){console.log(e),t(null)})},Bind:function(e,t,n){for(var o in n){var i=parseInt(o);if(!isNaN(i)){var r=n[o],a=t[o].split("/"),l=a[a.length-1].split("."),s=l[1].toTitleCase(),c=l[0].toLowerCase();"DAL"==l[1]&&(s="DAL"),app.Mod(c)||2!=l.length||app.RegMod(c,r);var u={};u[s]=r,app.Ext(e,u)}}},State:{init:function(e,t){E||(E=function(e){var t=e.state;e.type,e.target;if(m.length>0){if(t){for(var n=!1,o=0;o<m.length;o++){var i=m[o];if(i.uid==t.uid){y=o,n=!0;break}}n||console.warn("Invalid State. app.State.init() or app.State.push() may not have been called")}else y=0;M()}},window.addEventListener("popstate",E));var n=null,o=null,i=getURLParts(document.location),r=-1,a=null;for(var l in f){a=l;break}if(e)n=e;else{var s=i[0],c="",u="";if(i.length>1&&(c=i[i.length-1]),c.indexOf(".")>-1)u=c.split(".")[0].toLowerCase(),u.indexOf("index")>-1&&(u=a);else{for(var d=0;d<i.length;d++){var p=i[d].toLowerCase();if(f[p]){u=p,r=d;break}}IsEmpty(u)&&(u=s),IsEmpty(u)&&(u=a)}n={section:u}}if(IsEmpty(t)){var v="";if(r>-1){v="";for(var d=r+1;d<i.length;d++){var o=i[d];v+="/"+o}}o="/"+n.section+v+window.location.search+window.location.hash}else o=t;y=-1,app.State.push(n,o)},back:function(){T()?window.history.back():(w(-1),M())},forward:function(){T()?window.history.forward():(w(1),M())},go:function(e){T()?window.history.go(e):(w(e),M())},push:function(e,t){var n={value:e,path:t,uid:guidGenerator()};w(1),m[y]=n,T()&&window.history.pushState(m[y],"",t)},replace:function(e,t){y<0&&(y=0);var n={value:e,path:t,uid:guidGenerator()};m[y]=n,T()&&window.history.replaceState(m[y],"",t)},get:function(){return m},value:function(){return b().value},current:function(){return b()},addEventListener:function(e){L||(L=[]),L.push(e)}},User:{get:function(){return Parse.User.current()},become:function(e,t){IsEmpty(t)?Parse.User.become(e).then(function(e){var t=Parse.User.current();onLoginSuccess(t)}):alert(t)},isLogin:function(){var e=null;return window.hasOwnProperty("Parse")&&(e=Parse.User.current()),!!e&&e},login:function(e){},logout:function(e){app.DAL.logout(),setTimeout(function(){e?e():location.reload()},800)}},Controller:{sectionBadges:null,checkFeature:function(e){return N[e]},setFeatureFlags:function(e){N=e},lockWindow:function(){u=[self.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,self.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop];var e=document.getElementsByTagName("html")[0];e.data={},e.data["scroll-position"]=u,e.data["previous-overflow"]=e.style.overflow,e.style.overflow="hidden",window.scrollTo(u[0],u[1])},unlockWindow:function(){var e=document.getElementsByTagName("html")[0];if(e.data){var t=e.data["scroll-position"];e.style.overflow=e.data["previous-overflow"],window.scrollTo(t[0],t[1])}},clearNotification:function(){var e=document.getElementById("notification");e&&(S?(e.removeChild(S),S=null):e.innerHTML="")},setNotification:function(e){var t=document.getElementById("notification");t&&(S?(t.removeChild(S),S=null):t.innerHTML="","string"==typeof e?t.innerHTML=e:"object"==typeof e&&(S=e,t.addELM(e)))},showPopover:function(e,t){var n=null;if("scroll"==t)P||(P=e),n=P.getControls();else if("resize"==t)P||(P=e),n=P.getControls();else{P||(P=e);var o=P.getControls(),i=o.parentNode;i&&i.removeChild(o),P=e,n=P.getControls(),document.body.appendChild(n)}var r=P.getELM().getBoundingClientRect(),a=n.getBoundingClientRect(),l=0,s=P.getParams();if(s.mode&&"global"==s.mode){var c=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;s.disableAutoPlacement||(r.top+a.height+50>c?(n.style.top=n.style.top-r.height,l=-1*(a.height+40),n.className.indexOf(" loc-above")==-1&&(n.className=n.className+" loc-above")):n.className=n.className.replace(" loc-above",""))}n.style.top=r.top+l+window.scrollY+"px",n.style.left=r.left+window.scrollX+"px",n.style.display="block"},handleExpandEvent:function(e,t){for(var n=0;n<app.controls.expandButtons.length;n++)app.controls.expandButtons[n].handle&&app.controls.expandButtons[n].handle(e,t)},registerExpand:function(e){app.controls.expandButtons||(app.controls.expandButtons=[]),x||(x=!0,document.body.addEventListener("mousedown",function(e){app.Controller.handleExpandEvent("document-mousedown",e)}),window.addEventListener("resize",function(e){app.Controller.handleExpandEvent("window-resize",e)}),window.addEventListener("scroll",function(e){app.Controller.handleExpandEvent("window-scroll",e)},!0)),app.controls.expandButtons.push(e.getControls())},getVisiblePopover:function(){if(app.controls.expandButtons)for(var e=0;e<app.controls.expandButtons.length;e++){var t=app.controls.expandButtons[e];if("block"==t.style.display)return t}return null},closePopovers:function(e){if(app.controls.expandButtons)for(var t=0;t<app.controls.expandButtons.length;t++){var n=app.controls.expandButtons[t];n.handle?n.handle("close-popover",e):"none"!=n.style.display&&(n.style.display="none")}},pushPopup:function(e,t,n){var o=t;return app.Controller.closePopovers(),n?n:(d.push(e),IsEmpty(o)&&(o=app.State.current().path),app.State.push({objectHash:guidGenerator(),isPopup:!0},o),p||(p=function(e){var t=d.pop();t&&t.hide()},app.State.addEventListener(p)),app.State.value())},popPopup:function(){app.State.back()},initSectionSelections:function(e){window.onscroll=function(e){app.Controller.closePopovers(e)},f=e,g={};var t=n("controls_footer"),o=null;if(t&&(o=t[0]),o){o.innerHTML="";var i=cELM("ul");o.addELM(i);for(var r in f){g[r]=null;var a="bt"+r.toTitleCase(),l=cELM("li"),s=cELM("a"),c=cELM("div","button "+a);if(s.addELM(c),s.value=a,s.section=r,s.onclick=function(e){app.Controller.showSection(this.section)},l.addELM(s),f[r].hasBadge){var u=cELM("div","badge badge"+r.toTitleCase());s.addELM(u),C[a]=u,_CTRL().sectionBadges&&_CTRL().sectionBadges[r]&&(u.innerHTML=_CTRL().sectionBadges[r])}i.addELM(l),k[a]=c}}},showSection:function(e){var t=document.location.toString();if(!(t.indexOf("/auth/")>-1||t.indexOf("/login")>-1||t.indexOf("/logout")>-1||t.toString().indexOf("/signup")>-1)){var o="";if(e)o=e,app.State.push({section:o},o);else{app.State.init();var i=app.State.value();o=i.section}var r=v;r&&r.clear&&r.clear();for(var a in k){var l=k[a];l.className="button "+a}var a="bt"+o.toTitleCase();if(k[a]){var l=k[a];l&&(l.className="button "+a+"_selected")}var s=n("controls_header");if(s&&s.length>0){s[0].className="controls_header "+o+"_header";var c=s[0].querySelector("#header_title");if(c){c.innerHTML="";var u=f[o];u&&u.title&&(c.innerHTML=u.title)}}var d=g[o];if(!d){var u=f[o];return u&&u.mods&&u.mods.length>0?app.RegMods(u.mods,function(){u.css&&LoadCSS(u.css),B(o)}):B(o)}d.render(),v=g[o]}}}})}(),app.Ext(app,{Login:function(e,t){var n={},o=t,i=app.Paths().auth,r=null,a="login",l=!1,s="",c=cELM("div","login");"object"==typeof e?(e.mode&&(a=e.mode),e.isOAuthOnly&&(l=e.isOAuthOnly),e.OAuthState&&(s=e.OAuthState),r=e):"string"==typeof e&&(a=e);var u=function(e){h.innerHTML="";var t=window.location.href;t.indexOf(i)==-1&&t.indexOf("/login")==-1&&t.indexOf("/signup")==-1?setCookie("lastLoginPath",t,325):setCookie("lastLoginPath",null,325)},d=cELM("INPUT");d.id="txtUsername",d.setAttribute("type","text"),d.setAttribute("placeholder","Email");var p=cELM("INPUT");p.id="txtPassword",p.setAttribute("type","password"),p.setAttribute("placeholder","Password");var f=cELM("INPUT");f.setAttribute("type","text"),f.setAttribute("placeholder","Name"),f.style.display="none";var v=cELM("DIV","txtTitle"),g=cELM("DIV","txtNote"),h=cELM("DIV","error_message"),y=cELM("DIV","textButton");y.id="btForgot",y.innerHTML="Forgot your password?";var m=cELM("DIV","textButton");m.id="btSwitch";var L=cELM("DIV","button");L.id="btAction";var E=cELM("DIV","social"),M=cELM("a","button");M.id="btGmailLogin",M.onclick=function(e){u(),n.show(!1),setTimeout(function(){location.href=i+"google"+(IsEmpty(s)?"":"?state="+s)},200)};var b=cELM("a","button");b.id="btFacebookLogin",b.onclick=function(e){u(),n.show(!1),setTimeout(function(){location.href=i+"facebook"+(IsEmpty(s)?"":"?state="+s)},200)};var w=cELM("a","button");w.id="btTwitterLogin",w.onclick=function(e){u(),n.show(!1),setTimeout(function(){location.href=i+"twitter"+(IsEmpty(s)?"":"?state="+s)},200)};var T=function(e){if(a=e,g.innerHTML="",h.innerHTML="",d.style.visibility="visible","forgot"==a)E.style.display="none",c.className="login forgot",v.innerHTML="Reset Password",mode="forgot",L.innerHTML="Reset Password",m.innerHTML="or login",y.style.visibility="hidden",y.style.display="none",p.style.visibility="hidden";else if("login"==a){E.style.display="block",c.className="login";var t="Please Login";r.title&&r.title.login&&(t=r.title.login.start),v.innerHTML=t,a="login",L.innerHTML="Login",m.innerHTML="or signup now",y.style.visibility="visible",y.style.display="block",p.style.visibility="visible",n.showControls(!0)}else if("signup"==a){E.style.display="block",c.className="login signup";var t="Please Signup";r.title&&r.title.signup&&(t=r.title.signup.start),v.innerHTML=t,a="signup",L.innerHTML="Signup",m.innerHTML="or login",y.style.display="none",p.style.visibility="visible",n.showControls(!0),f.style.display="block"}};return y.onclick=function(e){T("forgot")},L.onclick=function(e){n.loginOrSignup()},m.onclick=function(e){"signup"==a?T("login"):"login"==a?T("signup"):"forgot"==a&&T("login")},window.addEventListener("keypress",function(e){13==e.keyCode&&n.loginOrSignup()},!1),n.showControls=function(e){e?(L.style.visibility="visible",m.style.visibility="visible"):(L.style.visibility="hidden",m.style.visibility="hidden")},n.show=function(e){c.style.display=e?"block":"none"},n.loginOrSignup=function(){n.showControls(!1);var e=function(){d.style.display="none",p.style.display="none",y.style.visibility="hidden",E.style.display="none"},t=function(){d.style.display="block",p.style.display="block","forgot"!=a&&(y.style.visibility="block"),E.style.display="block"};if(e(),"signup"==a){u();var i="Signing up </br> </br> Please wait...";r.title&&r.title.signup&&r.title.signup.complete&&(i=r.title.signup.complete),v.innerHTML=i,app.DAL.signUp(d.value,p.value,function(e){o(e)},function(e){t(),n.error(e)})}else if("login"==a){u();var i="Logging in </br></br> Please wait...";r.title&&r.title.login&&r.title.login.complete&&(i=r.title.login.complete),v.innerHTML=i,app.DAL.login(d.value,p.value,function(e){o(e)},function(e){t(),n.error(e)})}else if("forgot"==a){var i="Resetting Password...";r.title&&r.title.forgot&&r.title.forgot.complete&&(i=r.title.forgot.complete),v.innerHTML=i,d.style.visibility="hidden",setTimeout(function(){v.innerHTML="Password Reset",g.innerHTML="An email was sent with a link to create a new password. <br/>Don't forget to check your spam folder, if you don't see the email",a="signup",m.innerHTML="Login",m.style.visibility="visible",p.style.visibility="hidden"},1e3)}},n.error=function(e){T(a),n.showControls(!0),h.innerHTML=e.code+" "+e.message},n.getELM=function(){return c},n.getHTML=function(){if(c.addELM(v),r&&(r.google&&E.addELM(M),r.facebook&&E.addELM(b),r.twitter&&E.addELM(w),r.google||r.facebook||r.twitter)){var e=cELM("DIV","loginor");e.innerHTML="or",l||E.addELM(e),c.addELM(E)}c.addELM(g);var t=cELM("DIV","");return l||(r&&r.hasName&&t.addELM(f),t.addELM(d),t.addELM(p),t.addELM(y),t.addELM(L),t.addELM(m),c.addELM(t)),c.addELM(h),T(a),c},n}}),app.Ext(app,{controls:{Selections:function(e){var t=function(e){var t=this,n=e.onAdd,o=e.onFocus,i=e.onBlur,r=e.onKeyup,a=cELM("div","selection_header"),l=cELM("div","loading"),s=cELM("input","input_text"),c=cELM("div","button btAdd"),u=cELM("div","button btOK");u.style.display="none";var d=function(e){s.readOnly=!1,s.style.display="block",u.style.display="none",c.style.display="block",e&&(s.value="")},p=function(){c.style.display="none",u.style.display="block"},f=function(){s.blur(),s.style.display="none",u.style.display="none",c.style.display="none"};c.onclick=function(e){s.focus()},u.onclick=function(e){f(),n(s.value,d)},s.onkeyup=function(e){r&&r(s.value)},s.onkeypress=function(e){13==e.keyCode?(f(),n(s.value,d)):p()},t.reset=function(e){s.value="",s.style.display="block",c.style.display="block",u.style.display="none",s.blur()},s.onfocus=function(e){c.style.display="none",o&&o()},s.onblur=function(e){i&&i(),IsEmpty(s.value)&&(s.style.display="block",c.style.display="block",u.style.display="none")},t.getELM=function(){return a},t.getHTML=function(){return a.addELM(l),a.addELM(s),a.addELM(c),a.addELM(u),a}},n=function(e){var t=this,n=e.onSearch,o=e.onFocus,i=e.onBlur,r=e.onFilter,a=(e.onKeyup,cELM("div","selection_header selection_search")),l=cELM("div","loading"),s=cELM("input","input_text"),c=cELM("div","button btSearch"),u=cELM("div","button btOK");u.style.display="none";var d=!1,p=function(e){s.readOnly=!1},f=function(){c.style.display="none",u.style.display="block"},v=function(){s.blur()};c.onclick=function(e){s.focus()},u.onclick=function(e){v(),n(s.value,p)},s.onKeyup=function(e){r&&r(s.value)},s.onkeypress=function(e){13==e.keyCode?(v(),n(s.value,p)):f()},t.reset=function(e){s.value="",s.style.display="block",c.style.display="block",u.style.display="none",s.blur()},s.onfocus=function(e){c.style.display="none",o&&(d||(d=!0,o()))},s.onblur=function(e){i&&i(),IsEmpty(s.value)&&(s.style.display="block",c.style.display="block",u.style.display="none")},t.getELM=function(){return a},t.getHTML=function(){return a.addELM(l),a.addELM(s),a.addELM(c),a.addELM(u),a}},o=function(e,t){var n=this,o=e,i=e.isSelected,r=t.template,a=t.onSelect,l=cELM("div","selection");return n.update=function(e){o=e,i=e.isSelected,l.className=i?"selection selected":"selection"},n.getData=function(){return o},n.getELM=function(){return l},n.getHTML=function(){if(r){var e=r(o);l.innerHTML=e}return n.update(o),l},n.select=function(e,t){o.isSelected=e,n.update(o),a(i,o,t)},o.onclick?l.onclick=o.onclick:l.onclick=function(e){n.select(!i,e)},n},i=this,r={},a=e,l={},s={},c=null,u=e.getData,d=e.finishedSelection,p=e.addData,f=e.searchData,v=e.onShow,g=e.onDone,h=e.onSelect,y=e.onFocus,m=e.onBlur,L=e.onFilter,E=(cELM.onSelect,e.footer),M=[],b=null;e.itemTemplate&&(b=e.itemTemplate);var w=cELM("div","selections");e.cssName&&(w=cELM("div","selections "+e.cssName));var T=cELM("div","content"),k=cELM("div","content_scroll"),C=cELM("div","background_text");C.innerHTML="Loading...",C.style.display="block",k.addELM(C);var S=cELM("div","placeholder_empty");a.emptyMessage&&(S.innerHTML=a.emptyMessage,S.style.display="none",k.addELM(S));var P=cELM("div","selection adding");P.innerHTML="Adding ...";var x=cELM("div","btDone");x.style.display="none",x.onclick=function(e){i.onDone()};var N=function(e){T.scrollTop=0;for(var t in r){var n=r[t];n.getELM().parentNode.removeChild(n.getELM())}r={};for(var o=0;o<e.length;o++)B(e[o],!1);0==e.length&&a.emptyMessage&&(C.style.display="none",S.style.display="block")},B=function(e,t){var n=null;if(e.id?n=e.id:e._id&&(n=e._id),r[n])r[n].update(e);else{var a=new o(e,{template:b,onSelect:i.onSelect});r[n]=a,t?T.insertELM(a):T.addELM(a)}},I=null;if(p)I=t({onKeyup:function(e){L&&L(e,M,N)},onFocus:function(){y&&y(i.update)},onBlur:function(){m&&m(i.update)},onAdd:function(e,t){T.insertELM(P),p(e,c,function(e){P.parentNode.removeChild(P),t(e),A();for(var n=0;n<e.length;n++){var o=e[n];o.isSelected=!0,B(o,!0);var i=null;o.id?i=data.id:o._id&&(i=o._id),l[i]=o}k.scrollTop=0})}});else if(f){var H=function(){T.scrollTop=0,l={},s={};for(var e in r){var t=r[e];t.getELM().parentNode.removeChild(t.getELM())}r=[]};I=new n({onFocus:function(){y&&(H(),y(i.update,M,N))},onBlur:function(){m&&m(i.update)},onSearch:function(e,t){S.style.display="none",C.style.display="block",H(),f(e,c,function(e){C.style.display="none",t(e);for(var n=0;n<e.length;n++){var o=e[n];B(o,!0)}k.scrollTop=0,0==e.length&&a.emptyMessage&&(S.innerHTML='Can\'t find a friend? <br/><a class="email" title="Email a friend" href="" onclick="javascript:window.location=\'mailto:?subject=Feedback on Bestlyst?&body=I thought you might have great feedback or ideas for Bestlyst: \' + window.location;">Invite</a> them to bestlyst.',S.style.display="block",k.addELM(S))})}})}var A=function(){T.scrollTop=0;for(var e in r){var t=r[e];t.getELM().parentNode.removeChild(t.getELM())}r={};for(var n=0;n<M.length;n++)B(M[n],!1)},_=function(){l={},s={},x.style.display="none",S.style.display="none",I&&(I.getELM().style.display="none"),T.scrollTop=0;for(var e in r){var t=r[e];t.getELM().parentNode.removeChild(t.getELM())}r={},T.style.display="block"};return i.getELM=function(){return w},i.getHTML=function(){return(p||f)&&w.addELM(I),a.headerTemplate&&w.addELM(a.headerTemplate),k.addELM(T),w.addELM(k),E&&w.addELM(E),b&&w.addELM(x),w},i.onSelect=function(e,t,n){var o=null;t.id?o=t.id:t._id&&(o=t._id),e?(l[o]=t,s[o]&&delete s[o]):(s[o]=t,l[o]&&delete l[o]),h&&h(e,t,n)},i.getSelections=function(){return{session:c,selected:l,unselected:s}},i.update=function(e){if(e){M=e,x.style.display="block",I&&(I.getELM().style.display="block"),e.length>0?(C.style.display="none",S.style.display="none"):a.emptyMessage&&(C.style.display="none",S.style.display="block");for(var t=0;t<e.length;t++)B(e[t],!1);E&&E.show()}},i.disableContent=function(e){x.style.display="none",I&&(I.getELM().style.display="none"),T.scrollTop=0,T.style.display="none",
e&&(C.innerHTML=e),C.style.display="block"},i.finish=function(){I&&I.reset(),d&&d(c,l,s)},i.show=function(e){1==e&&(_(),C.style.display="block",C.innerHTML="Loading...",u&&(E&&E.hide(),u(c,i.update))),v&&v(e)},i.setSessionData=function(e){c=e,E&&E.setSessionData&&E.setSessionData(e)},i.onDone=function(){g&&g()},i},BindInputsToData:function(e,t){var n=this,o=t,i=e.css,r=e.onChange;e.onAdd,e.onDelete;o||(o={});var a={},l={},s=cELM("div",i);e.template?s.innerHTML=e.template:e.dom&&(s=e.dom);var c=function(e){var t=this.getAttribute("data-type"),n=this.getAttribute("data-value"),i=this.getAttribute("data-table-column"),a=this.type,l=(this.source,this.rowIdx),s=this.column;if("picker"==t)if(o[this.source]||(o[this.source]=[]),i)if(this.checked){var c={};c.guid=guidGenerator(),c[i]=n,o[this.source].push(c)}else{for(var u=-1,d=0;d<o[this.source].length;d++){var c=o[this.source][d];c[i]==n&&(u=d)}o[this.source].splice(u,1)}else if(this.checked)o[this.source].push(n);else{for(var u=-1,d=0;d<o[this.source].length;d++){var p=o[this.source][d];p==n&&(u=d)}o[this.source].splice(u,1)}else if("select-one"==a)o[this.source]=this.options[this.selectedIndex].value;else{var f=null;if("checkbox"==a||"radio"==a){var v=this.getAttribute("name");if(v)for(var g=document.querySelectorAll('input[name="'+v+'"]'),h=0;h<g.length;h++){var y=g[h],m=y.getAttribute("data-src");o[m]&&(o[m]=!1)}f=this.checked}else f=this.value;void 0===l?o[this.source]=f:o[this.source][l][s]=f}r&&r(this.source,this)},u=function(e,t,n,o){for(var i=["select","input["+n+"]","textarea["+n+"]"],r=[],l=0;l<i.length;l++)for(var s=i[l],u=e.querySelectorAll(s),d=0;d<u.length;d++)r.push(u[d]);for(var l=0;l<r.length;l++){var p=r[l].getAttribute("data-type"),f=r[l].getAttribute("data-value"),v=r[l].getAttribute("data-table-column"),g=(r[l].type,r[l]),h=r[l].getAttribute(n);g.source=h,g.onchange=c,g.onkeyup=c;var y=g.source;if(o){var m=o.split("|"),L=m[0],E=m[1];g.source=L,g.rowIdx=E,g.column=v,a[L]||(a[L]=[]),a[L][E]||(a[L][E]={}),a[L][E][v]=g}else v&&v!=h&&(y=y+"|"+v),f&&(y=y+"|"+f),a[y]?"data-table-column"==n||!p||"picker"==p||console.log("duplicate: "+y):a[y]=g}},d=s.querySelectorAll('div[data-format="table"]'),p=function(e,t,n){var i={};i.guid=guidGenerator(),t&&(i=t);var s=0;void 0!==n?s=n:o[this.source]&&(s=o[this.source].length);var c=this.template.cloneNode(!0);u(c,i,"data-table-column",this.source+"|"+s),c.guid=i.guid,l[this.source]||(l[this.source]=[]),l[this.source][s]=c;for(var d=0;d<c.childNodes.length;d++){var p=c.childNodes[d];"INPUT"==p.nodeName&&(p.value=null)}var f=c.querySelector('div[data-control="delete"]');f&&(f.template=c,f.source=g,f.onclick=function(e){this.template.parentNode&&this.template.parentNode.removeChild(this.template);for(var t=o[this.source],n=-1,i=0;i<t.length;i++){var l=t[i].guid;if(l&&l==this.template.guid){n=i;break}}n>-1&&(a[this.source].splice(n,1),o[this.source].splice(n,1),r(this.source,this))}),this.parentNode.insertBefore(c,this),t||o[this.source].push(i)};u(s,o,"data-src");for(var f=0;f<d.length;f++){var v=d[f],g=v.getAttribute("data-src"),h=v.querySelector('div[data-format="row"]'),y=v.querySelector('div[data-control="add"]');if(y.template=h,y.source=g,y.onclick=p,h.parentNode.removeChild(h),o[g])if(0==o[g].length)y.onclick();else for(var m=0;m<o[g].length;m++){var L=o[g][m];y.onclick(null,L,m)}else o[g]=[],y.onclick()}var E=function(e,t){var n=e.type,o=(e.getAttribute("data-src"),e.getAttribute("data-type"));e.getAttribute("data-value"),e.getAttribute("data-table-column");"picker"==o?e.checked=!0:"checkbox"==n||"radio"==n?e.checked=t:e.value=t};return n.update=function(e){for(var t in e){var n=e[t];if(Array.isArray(n)){var i=n.length-o[t].length;if(i>0)for(var r=0;r<d.length;r++){var s=d[r],c=s.getAttribute("data-src");if(c==t){var u=s.querySelector('div[data-control="add"]');if(u)for(var p=n.length,f=p-i;f<n.length;f++){var v=n[f];u.onclick(null,v,f)}}}else if(i<0){for(var p=l[t].length,r=p+i;r<Math.abs(p);r++){var g=l[t][r];g.parentNode&&g.parentNode.removeChild(g)}for(var r=0;r<Math.abs(i);r++)l[t].splice(l[t].length-1,1)}}o[t]=e[t]}for(var c in o){var h=o[c];if(Array.isArray(h))for(var r=0;r<h.length;r++){var y=h[r],m=r;if(a[c]&&a[c][m])for(var L in y){var M=y[L],b=L,w=c+"|"+L+"|"+M;a[c][m][b]&&E(a[c][m][b],M),a[w.trim()]&&E(a[w.trim()],M)}}else{var T=c;a[T]&&E(a[T],h)}}},n.getData=function(){return o},n.getELM=function(){return s},n.getHTML=function(){return s},n.update(o),n},BindModelToInputs:function(e,t,n,o){var r=cELM("div",e);for(var a in t)if("form"==n||"form_withLabel"==n){var l=!1;if(Array.isArray?Array.isArray(t[a])&&(l=!0):"[object Array]"===Object.prototype.toString.call(t[a])&&(l=!0),l)for(i=0;i<t[a].length;i++);}else if("data"==n&&"object"==typeof t[a])for(subProp in t[a]);return r},ExpandButton:function(e){var t={},n=e,o=!1,i=!1,r=null,a=null,l=null,s=cELM("div","button_expand "+n.classname),c=cELM("div","button");c.innerHTML=e.button_text;var u=cELM("div","expand");u.style.display="none",n.mode&&"global"==n.mode&&(u.className="expand button_expand_global "+(n.glocalClassname?n.glocalClassname:""));var d=cELM("div","arrow_up2");u.addELM(d);var p=cELM("div","spacing");p.innerHTML="",u.addELM(p);for(var f=function(e){"block"==u.style.display&&app.Controller.showPopover(t,"resize")},v=function(e){"block"==u.style.display&&app.Controller.showPopover(t,"scroll")},g=function(e){if(!e)var e=window.event;e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),this.selection.onclick?this.selection.onclick(e,this.reference):app.Controller.closePopovers()},h=0;h<e.selections.length;h++){var y=e.selections[h];if(y.control){var m=cELM("div","section "+y.classname);m.addELM(y.control),m.reference=n.reference,u.addELM(m)}else{var m=cELM("div","section "+y.classname);m.selection=y,m.reference=n.reference,m.onmousedown=g;var L=cELM("div","icon");y.icon&&(L.style.backgroundImage="url('"+y.icon+"')"),m.addELM(L);var E=cELM("div","text");E.innerHTML=y.text,m.addELM(E);var M=cELM("div","detail_text");M.innerHTML=y.detailText,m.addELM(M),u.addELM(m)}}var b=cELM("div","arrow_up1");return u.addELM(b),c.onmousedown=function(e){if(o&&(clearTimeout(a),o=!1),i)if(console.log(e.target),e.target){if(u.contains(e.target)||c.contains(e.target))return;i=!1}else i=!1;if(n.onmousedown&&n.onmousedown(e),app.controls.expandButtons)for(var r=0;r<app.controls.expandButtons.length;r++){var l=app.controls.expandButtons[r];l!=u&&(l.handle?l.handle("close-popover",e):"none"!=l.style.display&&(l.style.display="none"))}if(!e)var e=window.event;e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),"none"==u.style.display?(u.style.display="block",n.mode&&"global"==n.mode&&app.Controller.showPopover(t)):u.style.display="none"},t.onmousedown=function(e){o&&(clearTimeout(a),o=!1),r&&clearTimeout(r),c.onmousedown(e)},n.triggerOnMouseEnter&&(s.onmouseenter=function(e){a&&clearTimeout(a),o=!1,r&&clearTimeout(r),"none"==u.style.display&&(r=setTimeout(function(){c.onmousedown(e),i=!0,setTimeout(function(){i=!1},1500)},200))},s.onmouseleave=function(e){a&&clearTimeout(a),r&&clearTimeout(r),"block"==u.style.display&&(a=setTimeout(function(){o=!1,i=!1,c.onmousedown(e)},300))},u.onmouseleave=function(e){a&&clearTimeout(a),o=!1,i=!1,r&&clearTimeout(r),"block"==u.style.display&&c.onmousedown(e)}),n.autoClose&&(u.onmouseenter=function(e){a&&clearTimeout(a),o=!1},u.onmouseleave=function(e){o=!0,"block"==u.style.display&&(a&&clearTimeout(a),a=setTimeout(function(){o=!1,c.onmousedown(e)},700))}),t.getControls=function(){return u},t.getELM=function(){return s},t.getParams=function(){return n},t.handle=function(e,t){switch(a&&clearTimeout(a),o=!1,e){case"close-popover":u.style.display="none";break;case"document-mousedown":if(a&&clearTimeout(a),"block"==u.style.display){if(!t)var t=window.event;t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),c.onmousedown(t)}break;case"window-resize":n.mode&&"global"==n.mode&&(l&&clearTimeout(l),l=setTimeout(f,1e3));break;case"window-scroll":n.mode&&"global"==n.mode&&(l&&clearTimeout(l),l=setTimeout(f,1e3),v(t))}},t.getHTML=function(){return u.handle=function(e,n){t.handle(e,n)},app.Controller.registerExpand(t),s.addELM(c),n.mode&&"global"==n.mode?s:(s.addELM(u),s)},t},ProgressBar:function(e){var t={},n=cELM("div","progress"),o=cELM("div","progress-bar"),i=cELM("div","progress-bar-label");return t.update=function(e){o.style.width=e+"%",i.innerHTML=e+"%"},t.getELM=function(){return n},t.getHTML=function(){return n.addELM(o),n.addELM(i),n},t},Segment:function(e){var t={},n=e,o=cELM("div","segments"),i=[],r=function(){for(var e=0;e<i.length;e++)i[e].className="segment"};if(n.segments)for(var a=0;a<n.segments.length;a++){var l=n.segments[a],s=cELM("div","segment");0==a&&(s.className="segment selected"),s.innerHTML=l.label,s.value=l.value,s.onSelect=l.onSelect,s.onclick=function(e){r(),this.className="segment selected",this.onSelect(this.value)},o.addELM(s),i.push(s)}return t.getELM=function(){return o},t.getHTML=function(){return o},t}}});
//# sourceMappingURL=app.min.js.map
